(function(global){'use strict';const API_BASE='https://apifreellm.com/api';const ApiFree={version:'1.0.0',chat:async function(message,options={}){if(!message||typeof message!=='string'){throw new Error('Message is required and must be a string');}const config={method:'POST',headers:{'Content-Type':'application/json','X-Request-Source':'homepage-welcome'},body:JSON.stringify({message:message,model:options.model||'gpt-4o'})};try{const response=await fetch(`${API_BASE}/chat`,config);if(!response.ok){throw new Error(`API Error: ${response.status} ${response.statusText}`);}const data=await response.json();return data.response||data.content||data.message||'No response received';}catch(error){console.error('ApiFreeLLM Error:',error);throw error;}},streamChat:async function(message,onChunk,options={}){if(!message||typeof message!=='string'){throw new Error('Message is required and must be a string');}if(typeof onChunk!=='function'){throw new Error('onChunk callback is required');}try{const response=await this.chat(message,options);const words=response.split(' ');for(let i=0;i<words.length;i++){const chunk=words.slice(0,i+1).join(' ');onChunk(chunk);await new Promise(resolve=>setTimeout(resolve,50));}return response;}catch(error){console.error('ApiFreeLLM Stream Error:',error);throw error;}},generate:async function(prompt,options={}){return await this.chat(prompt,options);},print:function(text){if(typeof text==='object'){text=JSON.stringify(text,null,2);}let outputDiv=document.getElementById('apifree-output');if(!outputDiv){outputDiv=document.createElement('div');outputDiv.id='apifree-output';outputDiv.style.cssText=`margin:20px 0;padding:15px;background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;`;document.body.appendChild(outputDiv);}outputDiv.textContent=text;return text;},clear:function(){const outputDiv=document.getElementById('apifree-output');if(outputDiv){outputDiv.remove();}},config:{setApiBase:function(url){API_BASE=url.replace(/\/$/,'');}}};global.apifree=ApiFree;global.ApiFreeLLM=ApiFree;console.log('ðŸš€ ApiFreeLLM.js loaded! Try: apifree.chat("Hello!").then(apifree.print)');})(typeof window!=='undefined'?window:global);